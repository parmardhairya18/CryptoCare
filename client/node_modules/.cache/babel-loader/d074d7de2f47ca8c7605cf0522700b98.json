{"ast":null,"code":"var _jsxFileName = \"R:\\\\New_Block\\\\client\\\\src\\\\components\\\\RequestEmergency.jsx\",\n    _s = $RefreshSig$();\n\nimport { Card, CardContent, Typography, Grid, Box } from '@mui/material';\nimport React from 'react';\nimport DescriptionRoundedIcon from '@mui/icons-material/DescriptionRounded';\nimport { grey } from '@mui/material/colors';\nimport Button from '@mui/material/Button';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport SendIcon from '@mui/icons-material/Send';\nimport Stack from '@mui/material/Stack';\nimport useEth from '../contexts/EthContext/useEth';\nimport useAlert from '../contexts/AlertContext/useAlert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst RequestEmergency = _ref => {\n  _s();\n\n  let {\n    requestEmergency\n  } = _ref;\n  const [access, doctorId] = requestEmergency;\n  const {\n    state: {\n      contract,\n      accounts,\n      role,\n      loading\n    }\n  } = useEth();\n  const {\n    setAlert\n  } = useAlert(); // const [b64,setb64] = useState(\"\")\n\n  const givePermission = async (doctorId, access) => {\n    try {\n      await contract.methods.giveEmergencyAccess(doctorId, access).send({\n        from: accounts[0]\n      });\n\n      if (access) {\n        setAlert(\"request granted\", \"success\");\n      } else {\n        setAlert(\"request rejected\", \"error\");\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 1,\n            children: /*#__PURE__*/_jsxDEV(DescriptionRoundedIcon, {\n              style: {\n                fontSize: 40,\n                color: grey[700]\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 3,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              flexDirection: \"column\",\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                color: grey[600],\n                children: \"Request From\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                children: doctorId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 10,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              flexDirection: \"column\",\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                color: grey[600],\n                children: \"Access\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                children: access.toString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 10,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              flexDirection: \"column\",\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                color: grey[600],\n                children: \"Access\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                mx: 2,\n                display: \"flex\",\n                flexDirection: \"row\",\n                children: /*#__PURE__*/_jsxDEV(Stack, {\n                  direction: \"row\",\n                  spacing: 2,\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"contained\",\n                    color: \"error\",\n                    value: doctorId,\n                    startIcon: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 76,\n                      columnNumber: 77\n                    }, this),\n                    onClick: e => givePermission(e.target.value, false),\n                    children: \"Reject\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 7\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"contained\",\n                    color: \"success\",\n                    value: doctorId,\n                    endIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 79,\n                      columnNumber: 77\n                    }, this),\n                    onClick: e => givePermission(e.target.value, true),\n                    children: \"Accept\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 79,\n                    columnNumber: 7\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 16\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(RequestEmergency, \"NN/wdkt7x4qSJeJ6A1YoJvXl2vs=\", false, function () {\n  return [useEth, useAlert];\n});\n\n_c = RequestEmergency;\nexport default RequestEmergency;\n\nvar _c;\n\n$RefreshReg$(_c, \"RequestEmergency\");","map":{"version":3,"names":["Card","CardContent","Typography","Grid","Box","React","DescriptionRoundedIcon","grey","Button","DeleteIcon","SendIcon","Stack","useEth","useAlert","RequestEmergency","requestEmergency","access","doctorId","state","contract","accounts","role","loading","setAlert","givePermission","methods","giveEmergencyAccess","send","from","err","console","error","fontSize","color","toString","e","target","value"],"sources":["R:/New_Block/client/src/components/RequestEmergency.jsx"],"sourcesContent":["import { Card, CardContent, Typography, Grid, Box } from '@mui/material'\r\nimport React from 'react'\r\nimport DescriptionRoundedIcon from '@mui/icons-material/DescriptionRounded'\r\nimport { grey } from '@mui/material/colors'\r\nimport Button from '@mui/material/Button';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport Stack from '@mui/material/Stack';\r\nimport useEth from '../contexts/EthContext/useEth'\r\nimport useAlert from '../contexts/AlertContext/useAlert'\r\n\r\n\r\n\r\n\r\nconst RequestEmergency = ({ requestEmergency }) => {\r\n  const [access,doctorId] = requestEmergency\r\n\r\n   const {\r\n    state: { contract, accounts, role, loading },\r\n  } = useEth()\r\n\r\n  const {setAlert} = useAlert()\r\n  // const [b64,setb64] = useState(\"\")\r\n\r\n  const givePermission = async (doctorId,access) => {\r\n    try{\r\n      await contract.methods.giveEmergencyAccess(doctorId,access).send({ from: accounts[0] })\r\n      if(access){\r\n        setAlert(\"request granted\",\"success\")\r\n      }\r\n      else{\r\n        setAlert(\"request rejected\",\"error\")\r\n      }\r\n\r\n    }catch(err){\r\n      console.error(err);\r\n    }\r\n  }\r\n\r\n \r\n \r\n\r\n\r\n  return (\r\n    <>\r\n   \r\n      <Card>\r\n      <CardContent>\r\n        <Grid container spacing={2}>\r\n          <Grid item xs={1}>\r\n            <DescriptionRoundedIcon style={{ fontSize: 40, color: grey[700] }} />\r\n          </Grid>\r\n          <Grid item xs={3}>\r\n            <Box display='flex' flexDirection='column'>\r\n              <Typography variant='h6' color={grey[600]}>\r\n                Request From\r\n              </Typography>\r\n              <Typography variant='h6'>{doctorId}</Typography>\r\n            </Box>\r\n          </Grid>\r\n          <Grid item xs={10}>\r\n            <Box display='flex' flexDirection='column'>\r\n              <Typography variant='h6' color={grey[600]}>\r\n                Access\r\n              </Typography>\r\n              <Typography variant='h6'>{access.toString()}</Typography>\r\n            </Box>\r\n          </Grid>\r\n            <Grid item xs={10}>\r\n            <Box display='flex' flexDirection='column'>\r\n              <Typography variant='h6' color={grey[600]}>\r\n                Access\r\n              </Typography>\r\n               <Box mx={2} display='flex' flexDirection='row'>\r\n                      <Stack direction=\"row\" spacing={2}>\r\n      <Button variant=\"contained\" color='error' value={doctorId} startIcon={<DeleteIcon />} onClick={(e) => givePermission(e.target.value,false)}>\r\n        Reject\r\n      </Button>\r\n      <Button variant=\"contained\" color='success' value={doctorId} endIcon={<SendIcon />} onClick={(e) => givePermission(e.target.value,true)}>\r\n        Accept\r\n      </Button>\r\n    </Stack>\r\n                </Box>\r\n            </Box>\r\n          </Grid>\r\n        </Grid>\r\n      </CardContent>\r\n    </Card>\r\n\r\n   \r\n    </>\r\n    \r\n  )\r\n}\r\n\r\n\r\nexport default RequestEmergency\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}