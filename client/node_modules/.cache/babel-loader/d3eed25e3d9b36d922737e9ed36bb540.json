{"ast":null,"code":"var util = require('util');\n\nvar bl = require('bl');\n\nvar xtend = require('xtend');\n\nvar headers = require('./headers');\n\nvar Writable = require('readable-stream').Writable;\n\nvar PassThrough = require('readable-stream').PassThrough;\n\nvar noop = function () {};\n\nvar overflow = function (size) {\n  size &= 511;\n  return size && 512 - size;\n};\n\nvar emptyStream = function (self, offset) {\n  var s = new Source(self, offset);\n  s.end();\n  return s;\n};\n\nvar mixinPax = function (header, pax) {\n  if (pax.path) header.name = pax.path;\n  if (pax.linkpath) header.linkname = pax.linkpath;\n  if (pax.size) header.size = parseInt(pax.size, 10);\n  header.pax = pax;\n  return header;\n};\n\nvar Source = function (self, offset) {\n  this._parent = self;\n  this.offset = offset;\n  PassThrough.call(this);\n};\n\nutil.inherits(Source, PassThrough);\n\nSource.prototype.destroy = function (err) {\n  this._parent.destroy(err);\n};\n\nvar Extract = function (opts) {\n  if (!(this instanceof Extract)) return new Extract(opts);\n  Writable.call(this, opts);\n  opts = opts || {};\n  this._offset = 0;\n  this._buffer = bl();\n  this._missing = 0;\n  this._partial = false;\n  this._onparse = noop;\n  this._header = null;\n  this._stream = null;\n  this._overflow = null;\n  this._cb = null;\n  this._locked = false;\n  this._destroyed = false;\n  this._pax = null;\n  this._paxGlobal = null;\n  this._gnuLongPath = null;\n  this._gnuLongLinkPath = null;\n  var self = this;\n  var b = self._buffer;\n\n  var oncontinue = function () {\n    self._continue();\n  };\n\n  var onunlock = function (err) {\n    self._locked = false;\n    if (err) return self.destroy(err);\n    if (!self._stream) oncontinue();\n  };\n\n  var onstreamend = function () {\n    self._stream = null;\n    var drain = overflow(self._header.size);\n    if (drain) self._parse(drain, ondrain);else self._parse(512, onheader);\n    if (!self._locked) oncontinue();\n  };\n\n  var ondrain = function () {\n    self._buffer.consume(overflow(self._header.size));\n\n    self._parse(512, onheader);\n\n    oncontinue();\n  };\n\n  var onpaxglobalheader = function () {\n    var size = self._header.size;\n    self._paxGlobal = headers.decodePax(b.slice(0, size));\n    b.consume(size);\n    onstreamend();\n  };\n\n  var onpaxheader = function () {\n    var size = self._header.size;\n    self._pax = headers.decodePax(b.slice(0, size));\n    if (self._paxGlobal) self._pax = xtend(self._paxGlobal, self._pax);\n    b.consume(size);\n    onstreamend();\n  };\n\n  var ongnulongpath = function () {\n    var size = self._header.size;\n    this._gnuLongPath = headers.decodeLongPath(b.slice(0, size), opts.filenameEncoding);\n    b.consume(size);\n    onstreamend();\n  };\n\n  var ongnulonglinkpath = function () {\n    var size = self._header.size;\n    this._gnuLongLinkPath = headers.decodeLongPath(b.slice(0, size), opts.filenameEncoding);\n    b.consume(size);\n    onstreamend();\n  };\n\n  var onheader = function () {\n    var offset = self._offset;\n    var header;\n\n    try {\n      header = self._header = headers.decode(b.slice(0, 512), opts.filenameEncoding);\n    } catch (err) {\n      self.emit('error', err);\n    }\n\n    b.consume(512);\n\n    if (!header) {\n      self._parse(512, onheader);\n\n      oncontinue();\n      return;\n    }\n\n    if (header.type === 'gnu-long-path') {\n      self._parse(header.size, ongnulongpath);\n\n      oncontinue();\n      return;\n    }\n\n    if (header.type === 'gnu-long-link-path') {\n      self._parse(header.size, ongnulonglinkpath);\n\n      oncontinue();\n      return;\n    }\n\n    if (header.type === 'pax-global-header') {\n      self._parse(header.size, onpaxglobalheader);\n\n      oncontinue();\n      return;\n    }\n\n    if (header.type === 'pax-header') {\n      self._parse(header.size, onpaxheader);\n\n      oncontinue();\n      return;\n    }\n\n    if (self._gnuLongPath) {\n      header.name = self._gnuLongPath;\n      self._gnuLongPath = null;\n    }\n\n    if (self._gnuLongLinkPath) {\n      header.linkname = self._gnuLongLinkPath;\n      self._gnuLongLinkPath = null;\n    }\n\n    if (self._pax) {\n      self._header = header = mixinPax(header, self._pax);\n      self._pax = null;\n    }\n\n    self._locked = true;\n\n    if (!header.size || header.type === 'directory') {\n      self._parse(512, onheader);\n\n      self.emit('entry', header, emptyStream(self, offset), onunlock);\n      return;\n    }\n\n    self._stream = new Source(self, offset);\n    self.emit('entry', header, self._stream, onunlock);\n\n    self._parse(header.size, onstreamend);\n\n    oncontinue();\n  };\n\n  this._onheader = onheader;\n\n  this._parse(512, onheader);\n};\n\nutil.inherits(Extract, Writable);\n\nExtract.prototype.destroy = function (err) {\n  if (this._destroyed) return;\n  this._destroyed = true;\n  if (err) this.emit('error', err);\n  this.emit('close');\n  if (this._stream) this._stream.emit('close');\n};\n\nExtract.prototype._parse = function (size, onparse) {\n  if (this._destroyed) return;\n  this._offset += size;\n  this._missing = size;\n  if (onparse === this._onheader) this._partial = false;\n  this._onparse = onparse;\n};\n\nExtract.prototype._continue = function () {\n  if (this._destroyed) return;\n  var cb = this._cb;\n  this._cb = noop;\n  if (this._overflow) this._write(this._overflow, undefined, cb);else cb();\n};\n\nExtract.prototype._write = function (data, enc, cb) {\n  if (this._destroyed) return;\n  var s = this._stream;\n  var b = this._buffer;\n  var missing = this._missing;\n  if (data.length) this._partial = true; // we do not reach end-of-chunk now. just forward it\n\n  if (data.length < missing) {\n    this._missing -= data.length;\n    this._overflow = null;\n    if (s) return s.write(data, cb);\n    b.append(data);\n    return cb();\n  } // end-of-chunk. the parser should call cb.\n\n\n  this._cb = cb;\n  this._missing = 0;\n  var overflow = null;\n\n  if (data.length > missing) {\n    overflow = data.slice(missing);\n    data = data.slice(0, missing);\n  }\n\n  if (s) s.end(data);else b.append(data);\n  this._overflow = overflow;\n\n  this._onparse();\n};\n\nExtract.prototype._final = function (cb) {\n  if (this._partial) return this.destroy(new Error('Unexpected end of data'));\n  cb();\n};\n\nmodule.exports = Extract;","map":{"version":3,"names":["util","require","bl","xtend","headers","Writable","PassThrough","noop","overflow","size","emptyStream","self","offset","s","Source","end","mixinPax","header","pax","path","name","linkpath","linkname","parseInt","_parent","call","inherits","prototype","destroy","err","Extract","opts","_offset","_buffer","_missing","_partial","_onparse","_header","_stream","_overflow","_cb","_locked","_destroyed","_pax","_paxGlobal","_gnuLongPath","_gnuLongLinkPath","b","oncontinue","_continue","onunlock","onstreamend","drain","_parse","ondrain","onheader","consume","onpaxglobalheader","decodePax","slice","onpaxheader","ongnulongpath","decodeLongPath","filenameEncoding","ongnulonglinkpath","decode","emit","type","_onheader","onparse","cb","_write","undefined","data","enc","missing","length","write","append","_final","Error","module","exports"],"sources":["R:/New_Block/client/node_modules/ipfs-api/node_modules/tar-stream/extract.js"],"sourcesContent":["var util = require('util')\nvar bl = require('bl')\nvar xtend = require('xtend')\nvar headers = require('./headers')\n\nvar Writable = require('readable-stream').Writable\nvar PassThrough = require('readable-stream').PassThrough\n\nvar noop = function () {}\n\nvar overflow = function (size) {\n  size &= 511\n  return size && 512 - size\n}\n\nvar emptyStream = function (self, offset) {\n  var s = new Source(self, offset)\n  s.end()\n  return s\n}\n\nvar mixinPax = function (header, pax) {\n  if (pax.path) header.name = pax.path\n  if (pax.linkpath) header.linkname = pax.linkpath\n  if (pax.size) header.size = parseInt(pax.size, 10)\n  header.pax = pax\n  return header\n}\n\nvar Source = function (self, offset) {\n  this._parent = self\n  this.offset = offset\n  PassThrough.call(this)\n}\n\nutil.inherits(Source, PassThrough)\n\nSource.prototype.destroy = function (err) {\n  this._parent.destroy(err)\n}\n\nvar Extract = function (opts) {\n  if (!(this instanceof Extract)) return new Extract(opts)\n  Writable.call(this, opts)\n\n  opts = opts || {}\n\n  this._offset = 0\n  this._buffer = bl()\n  this._missing = 0\n  this._partial = false\n  this._onparse = noop\n  this._header = null\n  this._stream = null\n  this._overflow = null\n  this._cb = null\n  this._locked = false\n  this._destroyed = false\n  this._pax = null\n  this._paxGlobal = null\n  this._gnuLongPath = null\n  this._gnuLongLinkPath = null\n\n  var self = this\n  var b = self._buffer\n\n  var oncontinue = function () {\n    self._continue()\n  }\n\n  var onunlock = function (err) {\n    self._locked = false\n    if (err) return self.destroy(err)\n    if (!self._stream) oncontinue()\n  }\n\n  var onstreamend = function () {\n    self._stream = null\n    var drain = overflow(self._header.size)\n    if (drain) self._parse(drain, ondrain)\n    else self._parse(512, onheader)\n    if (!self._locked) oncontinue()\n  }\n\n  var ondrain = function () {\n    self._buffer.consume(overflow(self._header.size))\n    self._parse(512, onheader)\n    oncontinue()\n  }\n\n  var onpaxglobalheader = function () {\n    var size = self._header.size\n    self._paxGlobal = headers.decodePax(b.slice(0, size))\n    b.consume(size)\n    onstreamend()\n  }\n\n  var onpaxheader = function () {\n    var size = self._header.size\n    self._pax = headers.decodePax(b.slice(0, size))\n    if (self._paxGlobal) self._pax = xtend(self._paxGlobal, self._pax)\n    b.consume(size)\n    onstreamend()\n  }\n\n  var ongnulongpath = function () {\n    var size = self._header.size\n    this._gnuLongPath = headers.decodeLongPath(b.slice(0, size), opts.filenameEncoding)\n    b.consume(size)\n    onstreamend()\n  }\n\n  var ongnulonglinkpath = function () {\n    var size = self._header.size\n    this._gnuLongLinkPath = headers.decodeLongPath(b.slice(0, size), opts.filenameEncoding)\n    b.consume(size)\n    onstreamend()\n  }\n\n  var onheader = function () {\n    var offset = self._offset\n    var header\n    try {\n      header = self._header = headers.decode(b.slice(0, 512), opts.filenameEncoding)\n    } catch (err) {\n      self.emit('error', err)\n    }\n    b.consume(512)\n\n    if (!header) {\n      self._parse(512, onheader)\n      oncontinue()\n      return\n    }\n    if (header.type === 'gnu-long-path') {\n      self._parse(header.size, ongnulongpath)\n      oncontinue()\n      return\n    }\n    if (header.type === 'gnu-long-link-path') {\n      self._parse(header.size, ongnulonglinkpath)\n      oncontinue()\n      return\n    }\n    if (header.type === 'pax-global-header') {\n      self._parse(header.size, onpaxglobalheader)\n      oncontinue()\n      return\n    }\n    if (header.type === 'pax-header') {\n      self._parse(header.size, onpaxheader)\n      oncontinue()\n      return\n    }\n\n    if (self._gnuLongPath) {\n      header.name = self._gnuLongPath\n      self._gnuLongPath = null\n    }\n\n    if (self._gnuLongLinkPath) {\n      header.linkname = self._gnuLongLinkPath\n      self._gnuLongLinkPath = null\n    }\n\n    if (self._pax) {\n      self._header = header = mixinPax(header, self._pax)\n      self._pax = null\n    }\n\n    self._locked = true\n\n    if (!header.size || header.type === 'directory') {\n      self._parse(512, onheader)\n      self.emit('entry', header, emptyStream(self, offset), onunlock)\n      return\n    }\n\n    self._stream = new Source(self, offset)\n\n    self.emit('entry', header, self._stream, onunlock)\n    self._parse(header.size, onstreamend)\n    oncontinue()\n  }\n\n  this._onheader = onheader\n  this._parse(512, onheader)\n}\n\nutil.inherits(Extract, Writable)\n\nExtract.prototype.destroy = function (err) {\n  if (this._destroyed) return\n  this._destroyed = true\n\n  if (err) this.emit('error', err)\n  this.emit('close')\n  if (this._stream) this._stream.emit('close')\n}\n\nExtract.prototype._parse = function (size, onparse) {\n  if (this._destroyed) return\n  this._offset += size\n  this._missing = size\n  if (onparse === this._onheader) this._partial = false\n  this._onparse = onparse\n}\n\nExtract.prototype._continue = function () {\n  if (this._destroyed) return\n  var cb = this._cb\n  this._cb = noop\n  if (this._overflow) this._write(this._overflow, undefined, cb)\n  else cb()\n}\n\nExtract.prototype._write = function (data, enc, cb) {\n  if (this._destroyed) return\n\n  var s = this._stream\n  var b = this._buffer\n  var missing = this._missing\n  if (data.length) this._partial = true\n\n  // we do not reach end-of-chunk now. just forward it\n\n  if (data.length < missing) {\n    this._missing -= data.length\n    this._overflow = null\n    if (s) return s.write(data, cb)\n    b.append(data)\n    return cb()\n  }\n\n  // end-of-chunk. the parser should call cb.\n\n  this._cb = cb\n  this._missing = 0\n\n  var overflow = null\n  if (data.length > missing) {\n    overflow = data.slice(missing)\n    data = data.slice(0, missing)\n  }\n\n  if (s) s.end(data)\n  else b.append(data)\n\n  this._overflow = overflow\n  this._onparse()\n}\n\nExtract.prototype._final = function (cb) {\n  if (this._partial) return this.destroy(new Error('Unexpected end of data'))\n  cb()\n}\n\nmodule.exports = Extract\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}