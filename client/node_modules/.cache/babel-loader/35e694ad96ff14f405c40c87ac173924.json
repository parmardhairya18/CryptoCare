{"ast":null,"code":"var constants = require('fs-constants');\n\nvar eos = require('end-of-stream');\n\nvar util = require('util');\n\nvar alloc = require('buffer-alloc');\n\nvar toBuffer = require('to-buffer');\n\nvar Readable = require('readable-stream').Readable;\n\nvar Writable = require('readable-stream').Writable;\n\nvar StringDecoder = require('string_decoder').StringDecoder;\n\nvar headers = require('./headers');\n\nvar DMODE = parseInt('755', 8);\nvar FMODE = parseInt('644', 8);\nvar END_OF_TAR = alloc(1024);\n\nvar noop = function () {};\n\nvar overflow = function (self, size) {\n  size &= 511;\n  if (size) self.push(END_OF_TAR.slice(0, 512 - size));\n};\n\nfunction modeToType(mode) {\n  switch (mode & constants.S_IFMT) {\n    case constants.S_IFBLK:\n      return 'block-device';\n\n    case constants.S_IFCHR:\n      return 'character-device';\n\n    case constants.S_IFDIR:\n      return 'directory';\n\n    case constants.S_IFIFO:\n      return 'fifo';\n\n    case constants.S_IFLNK:\n      return 'symlink';\n  }\n\n  return 'file';\n}\n\nvar Sink = function (to) {\n  Writable.call(this);\n  this.written = 0;\n  this._to = to;\n  this._destroyed = false;\n};\n\nutil.inherits(Sink, Writable);\n\nSink.prototype._write = function (data, enc, cb) {\n  this.written += data.length;\n  if (this._to.push(data)) return cb();\n  this._to._drain = cb;\n};\n\nSink.prototype.destroy = function () {\n  if (this._destroyed) return;\n  this._destroyed = true;\n  this.emit('close');\n};\n\nvar LinkSink = function () {\n  Writable.call(this);\n  this.linkname = '';\n  this._decoder = new StringDecoder('utf-8');\n  this._destroyed = false;\n};\n\nutil.inherits(LinkSink, Writable);\n\nLinkSink.prototype._write = function (data, enc, cb) {\n  this.linkname += this._decoder.write(data);\n  cb();\n};\n\nLinkSink.prototype.destroy = function () {\n  if (this._destroyed) return;\n  this._destroyed = true;\n  this.emit('close');\n};\n\nvar Void = function () {\n  Writable.call(this);\n  this._destroyed = false;\n};\n\nutil.inherits(Void, Writable);\n\nVoid.prototype._write = function (data, enc, cb) {\n  cb(new Error('No body allowed for this entry'));\n};\n\nVoid.prototype.destroy = function () {\n  if (this._destroyed) return;\n  this._destroyed = true;\n  this.emit('close');\n};\n\nvar Pack = function (opts) {\n  if (!(this instanceof Pack)) return new Pack(opts);\n  Readable.call(this, opts);\n  this._drain = noop;\n  this._finalized = false;\n  this._finalizing = false;\n  this._destroyed = false;\n  this._stream = null;\n};\n\nutil.inherits(Pack, Readable);\n\nPack.prototype.entry = function (header, buffer, callback) {\n  if (this._stream) throw new Error('already piping an entry');\n  if (this._finalized || this._destroyed) return;\n\n  if (typeof buffer === 'function') {\n    callback = buffer;\n    buffer = null;\n  }\n\n  if (!callback) callback = noop;\n  var self = this;\n  if (!header.size || header.type === 'symlink') header.size = 0;\n  if (!header.type) header.type = modeToType(header.mode);\n  if (!header.mode) header.mode = header.type === 'directory' ? DMODE : FMODE;\n  if (!header.uid) header.uid = 0;\n  if (!header.gid) header.gid = 0;\n  if (!header.mtime) header.mtime = new Date();\n  if (typeof buffer === 'string') buffer = toBuffer(buffer);\n\n  if (Buffer.isBuffer(buffer)) {\n    header.size = buffer.length;\n\n    this._encode(header);\n\n    this.push(buffer);\n    overflow(self, header.size);\n    process.nextTick(callback);\n    return new Void();\n  }\n\n  if (header.type === 'symlink' && !header.linkname) {\n    var linkSink = new LinkSink();\n    eos(linkSink, function (err) {\n      if (err) {\n        // stream was closed\n        self.destroy();\n        return callback(err);\n      }\n\n      header.linkname = linkSink.linkname;\n\n      self._encode(header);\n\n      callback();\n    });\n    return linkSink;\n  }\n\n  this._encode(header);\n\n  if (header.type !== 'file' && header.type !== 'contiguous-file') {\n    process.nextTick(callback);\n    return new Void();\n  }\n\n  var sink = new Sink(this);\n  this._stream = sink;\n  eos(sink, function (err) {\n    self._stream = null;\n\n    if (err) {\n      // stream was closed\n      self.destroy();\n      return callback(err);\n    }\n\n    if (sink.written !== header.size) {\n      // corrupting tar\n      self.destroy();\n      return callback(new Error('size mismatch'));\n    }\n\n    overflow(self, header.size);\n    if (self._finalizing) self.finalize();\n    callback();\n  });\n  return sink;\n};\n\nPack.prototype.finalize = function () {\n  if (this._stream) {\n    this._finalizing = true;\n    return;\n  }\n\n  if (this._finalized) return;\n  this._finalized = true;\n  this.push(END_OF_TAR);\n  this.push(null);\n};\n\nPack.prototype.destroy = function (err) {\n  if (this._destroyed) return;\n  this._destroyed = true;\n  if (err) this.emit('error', err);\n  this.emit('close');\n  if (this._stream && this._stream.destroy) this._stream.destroy();\n};\n\nPack.prototype._encode = function (header) {\n  if (!header.pax) {\n    var buf = headers.encode(header);\n\n    if (buf) {\n      this.push(buf);\n      return;\n    }\n  }\n\n  this._encodePax(header);\n};\n\nPack.prototype._encodePax = function (header) {\n  var paxHeader = headers.encodePax({\n    name: header.name,\n    linkname: header.linkname,\n    pax: header.pax\n  });\n  var newHeader = {\n    name: 'PaxHeader',\n    mode: header.mode,\n    uid: header.uid,\n    gid: header.gid,\n    size: paxHeader.length,\n    mtime: header.mtime,\n    type: 'pax-header',\n    linkname: header.linkname && 'PaxHeader',\n    uname: header.uname,\n    gname: header.gname,\n    devmajor: header.devmajor,\n    devminor: header.devminor\n  };\n  this.push(headers.encode(newHeader));\n  this.push(paxHeader);\n  overflow(this, paxHeader.length);\n  newHeader.size = header.size;\n  newHeader.type = header.type;\n  this.push(headers.encode(newHeader));\n};\n\nPack.prototype._read = function (n) {\n  var drain = this._drain;\n  this._drain = noop;\n  drain();\n};\n\nmodule.exports = Pack;","map":{"version":3,"names":["constants","require","eos","util","alloc","toBuffer","Readable","Writable","StringDecoder","headers","DMODE","parseInt","FMODE","END_OF_TAR","noop","overflow","self","size","push","slice","modeToType","mode","S_IFMT","S_IFBLK","S_IFCHR","S_IFDIR","S_IFIFO","S_IFLNK","Sink","to","call","written","_to","_destroyed","inherits","prototype","_write","data","enc","cb","length","_drain","destroy","emit","LinkSink","linkname","_decoder","write","Void","Error","Pack","opts","_finalized","_finalizing","_stream","entry","header","buffer","callback","type","uid","gid","mtime","Date","Buffer","isBuffer","_encode","process","nextTick","linkSink","err","sink","finalize","pax","buf","encode","_encodePax","paxHeader","encodePax","name","newHeader","uname","gname","devmajor","devminor","_read","n","drain","module","exports"],"sources":["R:/CryptoCare/client/node_modules/ipfs-api/node_modules/tar-stream/pack.js"],"sourcesContent":["var constants = require('fs-constants')\nvar eos = require('end-of-stream')\nvar util = require('util')\nvar alloc = require('buffer-alloc')\nvar toBuffer = require('to-buffer')\n\nvar Readable = require('readable-stream').Readable\nvar Writable = require('readable-stream').Writable\nvar StringDecoder = require('string_decoder').StringDecoder\n\nvar headers = require('./headers')\n\nvar DMODE = parseInt('755', 8)\nvar FMODE = parseInt('644', 8)\n\nvar END_OF_TAR = alloc(1024)\n\nvar noop = function () {}\n\nvar overflow = function (self, size) {\n  size &= 511\n  if (size) self.push(END_OF_TAR.slice(0, 512 - size))\n}\n\nfunction modeToType (mode) {\n  switch (mode & constants.S_IFMT) {\n    case constants.S_IFBLK: return 'block-device'\n    case constants.S_IFCHR: return 'character-device'\n    case constants.S_IFDIR: return 'directory'\n    case constants.S_IFIFO: return 'fifo'\n    case constants.S_IFLNK: return 'symlink'\n  }\n\n  return 'file'\n}\n\nvar Sink = function (to) {\n  Writable.call(this)\n  this.written = 0\n  this._to = to\n  this._destroyed = false\n}\n\nutil.inherits(Sink, Writable)\n\nSink.prototype._write = function (data, enc, cb) {\n  this.written += data.length\n  if (this._to.push(data)) return cb()\n  this._to._drain = cb\n}\n\nSink.prototype.destroy = function () {\n  if (this._destroyed) return\n  this._destroyed = true\n  this.emit('close')\n}\n\nvar LinkSink = function () {\n  Writable.call(this)\n  this.linkname = ''\n  this._decoder = new StringDecoder('utf-8')\n  this._destroyed = false\n}\n\nutil.inherits(LinkSink, Writable)\n\nLinkSink.prototype._write = function (data, enc, cb) {\n  this.linkname += this._decoder.write(data)\n  cb()\n}\n\nLinkSink.prototype.destroy = function () {\n  if (this._destroyed) return\n  this._destroyed = true\n  this.emit('close')\n}\n\nvar Void = function () {\n  Writable.call(this)\n  this._destroyed = false\n}\n\nutil.inherits(Void, Writable)\n\nVoid.prototype._write = function (data, enc, cb) {\n  cb(new Error('No body allowed for this entry'))\n}\n\nVoid.prototype.destroy = function () {\n  if (this._destroyed) return\n  this._destroyed = true\n  this.emit('close')\n}\n\nvar Pack = function (opts) {\n  if (!(this instanceof Pack)) return new Pack(opts)\n  Readable.call(this, opts)\n\n  this._drain = noop\n  this._finalized = false\n  this._finalizing = false\n  this._destroyed = false\n  this._stream = null\n}\n\nutil.inherits(Pack, Readable)\n\nPack.prototype.entry = function (header, buffer, callback) {\n  if (this._stream) throw new Error('already piping an entry')\n  if (this._finalized || this._destroyed) return\n\n  if (typeof buffer === 'function') {\n    callback = buffer\n    buffer = null\n  }\n\n  if (!callback) callback = noop\n\n  var self = this\n\n  if (!header.size || header.type === 'symlink') header.size = 0\n  if (!header.type) header.type = modeToType(header.mode)\n  if (!header.mode) header.mode = header.type === 'directory' ? DMODE : FMODE\n  if (!header.uid) header.uid = 0\n  if (!header.gid) header.gid = 0\n  if (!header.mtime) header.mtime = new Date()\n\n  if (typeof buffer === 'string') buffer = toBuffer(buffer)\n  if (Buffer.isBuffer(buffer)) {\n    header.size = buffer.length\n    this._encode(header)\n    this.push(buffer)\n    overflow(self, header.size)\n    process.nextTick(callback)\n    return new Void()\n  }\n\n  if (header.type === 'symlink' && !header.linkname) {\n    var linkSink = new LinkSink()\n    eos(linkSink, function (err) {\n      if (err) { // stream was closed\n        self.destroy()\n        return callback(err)\n      }\n\n      header.linkname = linkSink.linkname\n      self._encode(header)\n      callback()\n    })\n\n    return linkSink\n  }\n\n  this._encode(header)\n\n  if (header.type !== 'file' && header.type !== 'contiguous-file') {\n    process.nextTick(callback)\n    return new Void()\n  }\n\n  var sink = new Sink(this)\n\n  this._stream = sink\n\n  eos(sink, function (err) {\n    self._stream = null\n\n    if (err) { // stream was closed\n      self.destroy()\n      return callback(err)\n    }\n\n    if (sink.written !== header.size) { // corrupting tar\n      self.destroy()\n      return callback(new Error('size mismatch'))\n    }\n\n    overflow(self, header.size)\n    if (self._finalizing) self.finalize()\n    callback()\n  })\n\n  return sink\n}\n\nPack.prototype.finalize = function () {\n  if (this._stream) {\n    this._finalizing = true\n    return\n  }\n\n  if (this._finalized) return\n  this._finalized = true\n  this.push(END_OF_TAR)\n  this.push(null)\n}\n\nPack.prototype.destroy = function (err) {\n  if (this._destroyed) return\n  this._destroyed = true\n\n  if (err) this.emit('error', err)\n  this.emit('close')\n  if (this._stream && this._stream.destroy) this._stream.destroy()\n}\n\nPack.prototype._encode = function (header) {\n  if (!header.pax) {\n    var buf = headers.encode(header)\n    if (buf) {\n      this.push(buf)\n      return\n    }\n  }\n  this._encodePax(header)\n}\n\nPack.prototype._encodePax = function (header) {\n  var paxHeader = headers.encodePax({\n    name: header.name,\n    linkname: header.linkname,\n    pax: header.pax\n  })\n\n  var newHeader = {\n    name: 'PaxHeader',\n    mode: header.mode,\n    uid: header.uid,\n    gid: header.gid,\n    size: paxHeader.length,\n    mtime: header.mtime,\n    type: 'pax-header',\n    linkname: header.linkname && 'PaxHeader',\n    uname: header.uname,\n    gname: header.gname,\n    devmajor: header.devmajor,\n    devminor: header.devminor\n  }\n\n  this.push(headers.encode(newHeader))\n  this.push(paxHeader)\n  overflow(this, paxHeader.length)\n\n  newHeader.size = header.size\n  newHeader.type = header.type\n  this.push(headers.encode(newHeader))\n}\n\nPack.prototype._read = function (n) {\n  var drain = this._drain\n  this._drain = noop\n  drain()\n}\n\nmodule.exports = Pack\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}